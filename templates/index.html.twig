{% extends "base.html.twig" %}
{% import "macros/alert.html.twig" as alert %}
{% import "macros/talent-bar.html.twig" as SkillBar %}
{% import "macros/projet-bar.html.twig" as ProjectBar %}

{% block title %}
	{{ parent() }}
	Accueil
{% endblock %}

{% block body %}


	<br>

	<h1 class="mt-5">Mes talents</h1>
	{% for label, messages in app.flashes %}
		{% for msg in messages %}
			{{ alert.alert(msg, label) }}
		{% endfor %}
	{% endfor %}

	<div class="text-end">
		<button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
			Trier par
		</button>
		<ul class="dropdown-menu">
			<li>
				<a id="titleAsc" class="dropdown-item" href="/skill/title/ASC">Titre (du plus récent au plus ancien)</a>
			</li>
			<li>
				<a id="titleDesc" class="dropdown-item" href="/skill/title/DESC">Titre (du plus ancien au plus récent)</a>
			</li>
			<li>
				<a id="rateAsc" class="dropdown-item" href="/skill/rate/ASC">Taux (du plus bas au plus élevé)</a>
			</li>
			<li>
				<a id="rateDesc" class="dropdown-item" href="/skill/rate/DESC">Taux (du plus élevé au plus bas)</a>
			</li>
		</ul>
	</div>

	{% for talent in talents %}
		{{ SkillBar.SkillBar(talent, true) }}
	{% endfor %}

	<br>

	<h1>Mes Projets</h1>
	{% for label, messages in app.flashes %}
		{% for msg in messages %}
			{{ alert.alert(msg, label) }}
		{% endfor %}
	{% endfor %}

	<div class="text-end">
		<button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
			Trier par
		</button>
		<ul class="dropdown-menu">
			<li>
				<a id="titleAsc" class="dropdown-item" href="/project/title/ASC">Titre (du plus récent au plus ancien)</a>
			</li>
			<li>
				<a id="titleDesc" class="dropdown-item" href="/project/title/DESC">Titre (du plus ancien au plus récent)</a>
			</li>
			<li>
				<a id="dateAsc" class="dropdown-item" href="/project/id/ASC">Date (du plus récent au plus ancien)</a>
			</li>
			<li>
				<a id="dateDesc" class="dropdown-item" href="/project/id/DESC">Date (du plus ancien au plus récent)</a>
			</li>
		</ul>
	</div>

	{% for projet in projets %}
		{{ ProjectBar.ProjectBar(projet, true) }}
		{% for tag in projet.tags %}
			{{tag.name}}
		{% endfor %}
	{% endfor %}

{% endblock %}
